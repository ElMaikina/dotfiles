#
# This file is parsed by pam_env module
#
# Syntax: simple "KEY=VAL" pairs on separate lines

# Optimize AUR compile time
MAKEFLAGS="-j8"

# Variables for GPU decoding
LIBVA_DRIVER_NAME=nvidia
EGL_PLATFORM=wayland
VDPAU_DRIVER=nvidia

# Wayland values for NVIDIA GPU
#GBM_BACKEND=nvidia-drm
#__GLX_VENDOR_LIBRARY_NAME=nvidia
__GL_SYNC_TO_VBLANK=0 
__GL_GSYNC_ALLOWED=1
__GL_VRR_ALLOWED=1
__GL_SHADER_DISK_CACHE_SKIP_CLEANUP=1 
__GL_SHADER_DISK_CACHE=1 
__GL_DXVK_OPTIMIZATIONS=1
__GL_ALLOW_UNOFFICIAL_PROTOCOL=1

# Wlroots variables
#WLR_NO_HARDWARE_CURSORS=1
WLR_RENDERER=vulkan
#XWAYLAND_NO_GLAMOR=1 

# Flags for Steam and Wine optimizations
DXVK_STATE_CACHE=1 
DXVK_ASYNC=1
PROTON_ENABLE_NVAPI=1 
PROTON_HIDE_NVIDIA_GPU=0 
WINE_FULLSCREEN_FSR=1
WINE_FULLSCREEN_FSR_STRENGTH=5
WINE_VULKAN_NEGATIVE_MIP_BIAS=45

# Firefox value for GPU acceleration
MOZ_DISABLE_RDD_SANDBOX=1
MOZ_ENABLE_WAYLAND=1
MOZ_ACCELERATED=1
MOZ_USE_XINPUT2=1
MOZ_WEBRENDER=1
MOZ_X11_EGL=1

# Force apps to use Native Wayland

# GTK Settings
GDK_BACKEND=wayland

# QT Settings
QT_WAYLAND_DISABLE_WINDOWDECORATION=1
QT_AUTO_SCREEN_SCALE_FACTOR=1 
QT_QPA_PLATFORMTHEME=qt5ct
QT_QPA_PLATFORM=wayland

# SDL Settings
SDL_VIDEODRIVER=wayland

# Java Settings
_JAVA_AWT_WM_NONREPARENTING=1

# Clutter Settings
CLUTTER_BACKEND=wayland

# Force Mutter/ Kwin to use EGLStreams
MUTTER_DEBUG_FORCE_EGL_STREAM=1
KWIN_OPENGL_INTERFACE=egl

# Font rendering options for consistency
FREETYPE_PROPERTIES="cff:no-stem-darkening=0"
